/* Wider canvas + full-viewport viz + mobile friendly fullscreen */
:root{
  --bg:#0b0d10; --panel:#12161b; --panel-2:#171c23; --text:#e5e7eb; --muted:#9aa4b2;
  --accent:#1f6feb; --border:#263241; --shadow:0 10px 30px rgba(0,0,0,.25);
}
@media (prefers-color-scheme: light){
  :root{ --bg:#f7f8fa; --panel:#fff; --panel-2:#f3f4f6; --text:#111827; --muted:#6b7280; --border:#e5e7eb; --shadow:0 8px 24px rgba(16,24,40,.08); }
}
*{box-sizing:border-box;}
html,body{height:100%;}
body{
  margin:0;
  font:400 16px/1.55 system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial;
  color:var(--text);
  background:radial-gradient(1200px 600px at 50% -200px,rgba(255,255,255,.04),transparent 60%),var(--bg);
}
a{color:var(--accent);text-decoration:none;}
a:hover{text-decoration:underline;}
.muted{color:var(--muted);}

/* Header */
.site-header{
  position:sticky; top:0; z-index:20;
  background:linear-gradient(180deg,rgba(0,0,0,.18),rgba(0,0,0,0)),var(--panel);
  border-bottom:1px solid var(--border);
  backdrop-filter:saturate(120%) blur(6px);
}
.site-header .brand{
  display:grid; grid-template-columns:40px 1fr; gap:.75rem; align-items:center;
  padding:.9rem 1.25rem .75rem; max-width:var(--wrap, 1600px); margin:0 auto;
}
.logo{width:40px;height:40px;fill:var(--accent);}
.titles h1{margin:0;font-size:clamp(18px,2.3vw,24px);font-weight:700;}
.titles .subtitle{margin:.1rem 0 0;font-size:.95rem;color:var(--muted);}
.header-actions{display:flex;gap:.5rem;padding:0 1.25rem 1rem;max-width:var(--wrap, 1600px);margin:0 auto;align-items:center;}
.btn{appearance:none;border:1px solid var(--border);background:var(--panel-2);color:var(--text);padding:.55rem .8rem;border-radius:12px;cursor:pointer;box-shadow:var(--shadow);}
.btn.small{font-size:.85rem;padding:.35rem .55rem;border-radius:10px;}

/* Tabs / content width: bigger than before */
.tabs{display:flex;flex-wrap:wrap;gap:.5rem;padding:.75rem 1.25rem 1rem;max-width:var(--wrap, 1600px);margin:0 auto;}
.tab{border:1px solid var(--border);background:var(--panel-2);color:var(--text);padding:.4rem .7rem;border-radius:10px;cursor:pointer;}
.tab.active,.tab[aria-selected="true"]{background:color-mix(in oklab,var(--panel-2),var(--accent) 20%);border-color:color-mix(in oklab,var(--border),var(--accent) 40%);}

.content{max-width:var(--wrap, 1600px); margin:0 auto; padding:.25rem 1.25rem 2rem;}
/* Edge-to-edge mode (toggled by the Wide button) */
body.edge .content,
body.edge .tabs,
body.edge .site-header .brand,
body.edge .header-actions{max-width:98vw;}
body.edge .content{padding-inline:1rem;}

/* Cards */
.cards{display:grid;gap:1.1rem;}
.card{background:var(--panel);border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow);overflow:clip;display:flex;flex-direction:column;min-height:0;}
.card-header{display:flex;align-items:center;justify-content:space-between;gap:.75rem;padding:.85rem .95rem .7rem;border-bottom:1px solid var(--border);}
.card-header h2{margin:0;font-size:clamp(18px,2.2vw,22px);}
.card-footer{padding:.6rem .95rem .9rem;color:var(--muted);border-top:1px solid var(--border);font-size:.9rem;}

/* Viz fills remaining height of the card */
.viz-wrap{flex:1 1 auto;min-height:0;}
.viz-wrap iframe{display:block;width:100%;height:100%;border:0;}

/* View-All grid tiles */
body.view-all .cards{grid-template-columns:repeat(auto-fit,minmax(360px,1fr));}
body.view-all .viz-wrap{flex:0 0 auto;min-height:0;aspect-ratio:16/9;}

/* Footer */
.site-footer{display:flex;justify-content:space-between;align-items:center;gap:.75rem;padding:1rem 1.25rem 2rem;max-width:var(--wrap, 1600px);margin:0 auto;color:var(--muted);}

/* Auth overlay */
#authGate{position:fixed;inset:0;display:grid;place-items:center;background:rgba(0,0,0,.6);color:#fff;z-index:9999;font:600 1rem/1.2 system-ui;}
#authGate.hidden{display:none;}

/* Small screens: give more room & make everything nearly full-bleed */
@media (max-width: 700px){
  :root{ --wrap: 98vw; }
  .site-header .brand{grid-template-columns:32px 1fr;}
  .logo{width:32px;height:32px;}
  body.edge .content{padding-inline:.75rem;}
}
